---
import BaseLayout from '../layouts/BaseLayout.astro';
---

<BaseLayout>
  <div class="flex items-center justify-center min-h-screen bg-gray-100">
    <div class="p-6 bg-white rounded-lg shadow-lg">
      <h1 class="text-2xl font-bold text-red-800 mb-4">Current Location</h1>
      <div id="locationStatus" class="text-gray-600">
        Loading...
      </div>
    </div>
  </div>
</BaseLayout>

<script>
  import { getCurrentLocation } from '../services/LocationService';

  const locationStatus = document.getElementById('locationStatus');
  const updateLocationStatus = async () => {
    locationStatus.textContent = 'Getting location...';

    const data = await getCurrentLocation();
    
    locationStatus.textContent = `Current location: ${data.city}`;
    
    console.log('Using city:', data.city);
  };

  document.addEventListener('DOMContentLoaded', () => {
    updateLocationStatus();
  });
</script>